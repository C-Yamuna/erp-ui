<p-messages label="Info" life="3000" [(value)]="msgs" [showTransitionOptions]="'500ms'" [hideTransitionOptions]="'500ms'"></p-messages>
<div class="col-12">
    <div class="row">
        <div class="d-flex justify-content-between top-header-section">
            <div class="main-heading mt-1 justify-content-start">{{'BORROWINGSTRANSACTIONS.SAO_BORROWING' | translate}}<i class="fa fa-angle-right font-bold mr-3 ml-3"></i>{{'BORROWINGSTRANSACTIONS.VIEW' | translate}}</div>
        </div>
    </div>

    <div class="col-12 p-0">
        <div class="row">
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
                <p-scrollPanel styleClass="scroll-class">
                    <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12">
                            <div class="col-12 p-0">
                                <div class="global-card-bg-color view-carddata icon-size">
                                    <div class="col-12">
                                    <div class="row">
                                        <div class="col-6">
                                            <div class="d-flex">
                                                <span class="card-icon"><i class="fa fa-id-badge"></i></span>
                                                <h6 class="sub-heading">{{'ERP.BASIC_DETAILS' | translate}}</h6>
                                            </div>
                                        </div>
                                        <div class="col-6" *ngIf="editbtn">
                                            <!-- <p-button icon="fa fa-pencil-square-o" class="kyc-edit-btn pull-right"
                                            (click)="editCiBorrowingDetails(saoAccountdetailsModel,0)"></p-button> -->
                                        </div>
                                    </div>
                                    <div class="col-12 px-0">
                                    <div class="row">
                                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 min-h-50px">
                                            <h6 class="label-view">{{'BORROWINGSTRANSACTIONS.FINANCIAL_BANK_TYPE' |translate}}</h6>
                                            <p class="label-input-text">{{ saoAccountdetailsModel.financiarBankTypeName}}</p>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px">
                                            <h6 class="label-view">{{'BORROWINGSTRANSACTIONS.PRODUCT' |translate}}</h6>
                                            <p class="label-input-text">{{ saoAccountdetailsModel.productName}}</p>
                                        </div>
                                        <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px">
                                            <h6 class="label-view">{{'BORROWINGSTRANSACTIONS.DCCB_BORROWING_ACCOUNT_NUMBER' |translate}}</h6>
                                            <p class="label-input-text">{{ saoAccountdetailsModel.accountNumber}}</p>
                                        </div>
                                        <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px">
                                            <h6 class="label-view">{{'BORROWINGSTRANSACTIONS.APPLICATION_DATE' |translate}}</h6>
                                            <p class="label-input-text">{{ saoAccountdetailsModel.applicationDate}}</p>
                                        </div>
                                        <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px">
                                            <h6 class="label-view">{{'BORROWINGSTRANSACTIONS.ROI' |translate}}</h6>
                                            <p class="label-input-text">{{ saoAccountdetailsModel.roi}}</p>
                                        </div>
                                        <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px">
                                            <h6 class="label-view">{{'BORROWINGSTRANSACTIONS.PENAL_ROI' |translate}}</h6>
                                            <p class="label-input-text">{{ saoAccountdetailsModel.penalRoi}}</p>
                                        </div>
                                        <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px">
                                            <h6 class="label-view">{{'BORROWINGSTRANSACTIONS.IOD' |translate}}</h6>
                                            <p class="label-input-text">{{ saoAccountdetailsModel.iodRate}}</p>
                                        </div>
                                    <!-- </div>
                                    <div class="row"> -->
                                        <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px">
                                            <h6 class="label-view">{{'BORROWINGSTRANSACTIONS.REPAYMENT_FREQUENCY' |translate}}</h6>
                                            <p class="label-input-text">{{ saoAccountdetailsModel.repaymentFrequencyName}}</p>
                                        </div>
                                        <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px">
                                            <h6 class="label-view">{{'BORROWINGSTRANSACTIONS.BORROWING_PERIOD_IN_MONTHS' |translate}}</h6>
                                            <p class="label-input-text">{{ saoAccountdetailsModel.borrowingPeriodInMonths}}</p>
                                        </div>
                                    <!-- </div>
                                    <div class="row"> -->
                                        <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px">
                                            <h6 class="label-view">{{'BORROWINGSTRANSACTIONS.REQUESTED_AMOUNT' |translate}}</h6>
                                            <p class="label-input-text">{{ saoAccountdetailsModel.requestedAmount}}</p>
                                        </div>
                                        <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px">
                                            <h6 class="label-view">{{'BORROWINGSTRANSACTIONS.REQUESTED_DATE' |translate}}</h6>
                                            <p class="label-input-text">{{ saoAccountdetailsModel.requestedDate}}</p>
                                        </div>
                                        <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px">
                                            <h6 class="label-view">{{'BORROWINGSTRANSACTIONS.SANCTION_AMOUNT' |translate}}</h6>
                                            <p class="label-input-text">{{ saoAccountdetailsModel.sanctionedAmount}}</p>
                                        </div>
                                        <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px">
                                            <h6 class="label-view">{{'BORROWINGSTRANSACTIONS.SANCTION_DATE' |translate}}</h6>
                                            <p class="label-input-text">{{ saoAccountdetailsModel.sanctionedDate}}</p>
                                        </div>
                                    <!-- </div>
                                    <div class="row"> -->
                                        <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px">
                                            <h6 class="label-view">{{'BORROWINGSTRANSACTIONS.ON_DUE_DATE' |translate}}</h6>
                                            <p class="label-input-text">{{ saoAccountdetailsModel.borrowingDueDate}}</p>
                                        </div>
                                        <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px">
                                            <h6 class="label-view">{{'BORROWINGSTRANSACTIONS.TOTAL_INTEREST' |translate}}</h6>
                                            <p class="label-input-text">{{ saoAccountdetailsModel.totalInterest}}</p>
                                        </div>
                                        <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px">
                                            <h6 class="label-view">{{'BORROWINGSTRANSACTIONS.TOTAL_PAYOUT' |translate}}</h6>
                                            <p class="label-input-text">{{ saoAccountdetailsModel.totalPayout}}</p>
                                        </div>
                                    <!-- </div>
                                    <div class="row"> -->
                                        <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px">
                                            <h6 class="label-view">{{'BORROWINGSTRANSACTIONS.PROCESSING_FEE' |translate}}</h6>
                                            <p class="label-input-text">{{ saoAccountdetailsModel.processingFee}}</p>
                                        </div>
                                        <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px">
                                            <h6 class="label-view">{{'BORROWINGSTRANSACTIONS.GST' |translate}}</h6>
                                            <p class="label-input-text">{{ saoAccountdetailsModel.cgstAmount}}</p>
                                        </div>
                                        <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px">
                                            <h6 class="label-view">{{'BORROWINGSTRANSACTIONS.UPLOAD_DOCUMENT' |translate}}</h6>
                                            <!-- <p class="label-input-text docname-texteclipse mt-1" pTooltip="Filename.jpg" tooltipPosition="bottom"><img src="assets/images/jpgicon-img.png" class="viewicon-img">Filename.jpg</span></p>
                                            <p class="label-input-text docname-texteclipse mt-1" pTooltip="Filename.pdf" tooltipPosition="bottom"><img src="assets/images/pdficon-img.png" class="viewicon-img">Filename.pdf</span></p> -->

                                        <div class="col-xl-4 col-lg-12 col-md-12 col-sm-12 col-xs-12 justify-content-end">
                                            <div class="col-12 px-0">
                                                <div class="px-0" *ngFor="let img of saoAccountdetailsModel.multipartFileList">
                                                    <div class="col-12 p-0" *ngIf="img.fileType=='jpg' || img.fileType=='jpeg' || img.fileType=='png' ">
                                                        <a href="{{img.imageValue}}">
                                                            <img src="{{img.imageValue}}" class="upload-img img-fluid" pTooltip="{{img.fileName}}"
                                                            tooltipPosition="bottom">
                                                        </a>
                                                    </div>
                                                    <div class="col-12 p-0" *ngIf=" img.fileType =='pdf'">
                                                        <a href="{{img.imageValue}}">
                                                            <img src="assets\images\pdf.png" class="pdf-img img-fluid" pTooltip="{{img.fileName}}"
                                                            tooltipPosition="bottom">
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                        <!-- <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px">
                                            <h6 class="label-view">{{'BORROWINGSTRANSACTIONS.REMARKS' |translate}}</h6>
                                            <p class="label-input-text">{{ saoAccountdetailsModel.remarks}}</p>
                                        </div> -->
                                    </div>
                                </div>
                            </div>
                            </div>
                        </div>
                        </div>
                        <div class="col-12 p-1"></div>
                        <div class="col-lg-12 col-md-12 col-sm-12">
                            <div class="col-12 p-0">
                                <div class=" global-card-bg-color view-carddata icon-size">
                                    <div class="col-12">
                                    <div class="row">
                                        <div class="col-9">
                                    <div class="d-flex">
                                        <span class="card-icon"><i class="fa fa-map"></i></span>
                                        <h6 class="sub-heading">{{'BORROWINGSTRANSACTIONS.BORROWING_ACCOUNT_MAPPING' |translate}}</h6>
                                    </div>
                                </div>
                                <div class="col-3" *ngIf="editbtn">
                                    <!-- <p-button icon="fa fa-pencil-square-o" class="kyc-edit-btn pull-right"
                                    (click)="editCiBorrowingDetails(saoAccountdetailsModel,1)"></p-button> -->
                                </div>
                            </div>
                            <!-- <div class="row">
                                <p class="label-input-text m-0 justify-content-end d-flex">No of Accounts Selected :<span> 0</span></p>
                            </div> -->

                            <div class="globel-border-top-color"></div>
                            <p-table [value]="saoborrowingMappingList" dataKey="id" selectionMode="single"
                            styleClass="p-datatable-striped custom-overflow-auto" [showJumpToPageDropdown]="true" [showPageLinks]="false" [rows]="5" [paginator]="false" [pageLinks]="1" [responsive]="true"
                                rowExpandMode="single">
                                <ng-template pTemplate="header">
                                    <tr>
                                        <th>{{'BORROWINGSTRANSACTIONS.ADMISSION_NUMBER' | translate}}</th>
                                        <th>{{'BORROWINGSTRANSACTIONS.LOAN_ACCOUNT_NUMBER' | translate}}</th>
                                        <th>{{'BORROWINGSTRANSACTIONS.NAME' | translate}}</th>
                                        <th>{{'BORROWINGSTRANSACTIONS.LOAN_AMOUNT' | translate}}</th>
                                        <th>{{'BORROWINGSTRANSACTIONS.PURPOSE' | translate}}</th>
                                        <!-- <th>{{'BORROWINGSTRANSACTIONS.LOAN_DUE_DATE' | translate}}</th> -->
                                    </tr>
                                </ng-template>
                                <ng-template pTemplate="body" let-rowData>
                                    <tr>
                                        <td>{{ rowData.loanMemberAdmissionNumber }}</td>
                                        <td>{{ rowData.loanAccountNumber }}</td>
                                        <td>{{ rowData.memberName }}</td>
                                        <td>{{ rowData.loanAmount }}</td>
                                        <td>{{ rowData.purposeName }}</td>
                                        <!-- <td>{{ rowData.loanDueDate }}</td> -->
                                    </tr>
                                </ng-template>
                            </p-table>
                                    <div class="col-12 margtop-3rem"></div>
                                </div>
                            </div>
                            </div>
                        </div>
                        <div class="col-12 p-1"></div>
                        <div class="col-lg-12 col-md-12 col-sm-12">
                            <div class="col-12 p-0">
                                <div class=" global-card-bg-color view-carddata icon-size pb-2">
                                    <div class="col-12">
                                    <div class="row">
                                        <div class="col-6">
                                    <div class="d-flex">
                                        <span class="card-icon"><i class="fa fa-file-text"
                                        ></i></span>
                                        <h6 class="sub-heading">{{'BORROWINGSTRANSACTIONS.BORROWING_DOCUMENTS' |translate}}</h6>
                                    </div>
                                </div>
                                <div class="col-6" *ngIf="editbtn">
                                    <!-- <p-button icon="fa fa-pencil-square-o" class="kyc-edit-btn pull-right"
                                    (click)="editCiBorrowingDetails(saoAccountdetailsModel,2)"></p-button> -->
                                </div>
                            </div>
                            <div class="col-12 px-0">
                                <div class="row g-3">
                                        <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12" *ngFor="let document of borrowingdocumentlist ; let i = index">
                                            <div class="stepper-kyc-card p-3 mb-2">
                                            <div class="row">
                                                <div class="col-lg-7 col-md-7 col-sm-7 col-xs-6 d-flex align-items-center">
                                                    <div class="card-leftbody">
                                                    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 min-h-50px">
                                                        <h6 class="label-view">Document Type</h6>
                                                        <p class="label-input-text">{{document.documentTypeName}}</p>
                                                    </div>
                                                    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 min-h-50px">
                                                        <h6 class="label-view">Document Number</h6>
                                                        <p class="label-input-text">{{document.documentNumber}}</p>
                                                    </div>
                                                    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 min-h-50px">
                                                        <h6 class="label-view">Name As Per Document</h6>
                                                        <p class="label-input-text docname-texteclipse">{{document.nameAsPerDocument}}</p>
                                                    </div>
                                                </div>
                                               
                                                </div>
                                                <div class="col-lg-5 col-md-5 col-sm-5 col-xs-6 justify-content-end">
                                                    <div class="kycview-done icon-size text-right"><i class="fa fa-check-circle mr-0" aria-hidden="true"></i></div>
                                                    <div class="col-12 px-0">
                                                        <div class="col-12 px-0" *ngFor="let img of document.multipartFileList">
                                                            <div class="col-12 p-0" *ngIf="img.fileType=='jpg' || img.fileType=='jpeg' || img.fileType=='png'">
                                                                <a href="{{img.imageValue}}">
                                                                    <img src="{{img.imageValue}}" class="upload-img img-fluid" pTooltip="{{img.fileName}}" tooltipPosition="bottom">
                                                                </a>
                                                            </div>
                                                            <div class="col-12 p-0" *ngIf=" img.fileType =='pdf'">
                                                                <a href="{{img.imageValue}}">
                                                                    <img src="assets\images\pdf.png" class="pdf-img img-fluid" pTooltip="{{img.fileName}}" tooltipPosition="bottom">
                                                                </a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        </div>
                                    </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                            </div>
                        </div>
                </p-scrollPanel> 
                <form [formGroup]="approvalForm">
                <div class="col-12 viewbottom-footer icon-size">
                    <div class="row">
                        <!-- <div class="col-xl-3 col-lg-4 col-md-4 col-sm-4 mt-4"> -->
                            <!-- <p-button icon="fa fa-download" iconPos="left" pTooltip="Filename.pdf"
                                tooltipPosition="top"></p-button> -->
                            <!-- <p-button icon="fa fa-print" iconPos="left" pTooltip="Print"
                                tooltipPosition="top"></p-button> -->
    
                        <!-- </div> -->
                        <div class="col-xl-3 col-lg-4 col-md-4 col-sm-4 mt-4" >
                            <p class="label-view text-fontwt">{{'BORROWINGSTRANSACTIONS.FILE_PATH' | translate}}</p>
                        <div class="col-xl-4 col-lg-12 col-md-12 col-sm-12 col-xs-12 justify-content-end">
                            <div class="col-12 px-0">
                                <div class="px-0" *ngFor="let img of saoAccountdetailsModel.multipartFileListsignedCopyPath">
                                    <div class="col-12 p-0" *ngIf=" img.fileType =='pdf'">
                                        <a href="{{img.imageValue}}">
                                            <img src="assets\images\pdf.png" class="pdf-img img-fluid" pTooltip="{{img.fileName}}"
                                            tooltipPosition="bottom">
                                        </a>
                                    </div>
                                    <div class="docname-texteclipse ml-3" pTooltip="{{img.fileName}}" tooltipPosition="bottom">
                                        {{img.fileName}}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                        <div class="col-xl-3 col-lg-4 col-md-4 col-sm-4 mt-4">
                            <div class="form-label">
                                <label> <span class="red">*</span> {{'ERP.STATUS' | translate}}</label>
                                <p-dropdown [filter]="true" [options]="statusList" placeholder="Select"
                                    [(ngModel)]="saoAccountdetailsModel.accountStatus" formControlName="status"
                                    (onChange)="onStatusChange($event)"></p-dropdown>
                            </div>
                        </div>
    
                        <div class="col-xl-3 col-lg-4 col-md-4 col-sm-4 mt-4">
                            <div class="form-label">
                                <label>{{'ERP.REMARKS' | translate}}</label>
                                <textarea type="text" class="form-control" pInputTextarea
                                    placeholder="Enter Remarks Here" formControlName="remark"
                                    [(ngModel)]="saoAccountdetailsModel.remarks"></textarea>
                            </div>
                        </div>
                        <div class="col-xl-3 col-lg-4 col-md-4 col-sm-4 mt-4">
                            <div class="d-flex justify-content-end">
                                <p-button (click)="backbutton()" label="BACK"></p-button>
                                <p-button label="{{'TERMDEPOSITSTRANSACTION.SUBMIT' | translate}}"
                                    (click)="submit()" [disabled]="!approvalForm.valid"></p-button>
                            </div>
                        </div>
                    </div>
                </div>
                </form>
                <div class="col-12"></div>
            </div>
        </div>
    </div>
</div>