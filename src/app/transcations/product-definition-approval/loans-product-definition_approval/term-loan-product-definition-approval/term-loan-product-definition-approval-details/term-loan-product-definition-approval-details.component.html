
<p-messages label="Info" life="3000" [(value)]="msgs" [showTransitionOptions]="'500ms'" [hideTransitionOptions]="'500ms'"></p-messages><div class="col-12">
    <div class="row">
        <div class="d-flex justify-content-between top-header-section">
            <div class="main-heading mt-1 justify-content-start">
                {{'LOANS.PRODUCT_DEFINITION' | translate}}<i
                    class="fa fa-angle-right font-bold mr-3 ml-3"></i>{{'LOANS.TERM_LOAN_PREVIEW' | translate}}
            </div>
        </div>
    </div>

    <div class="col-12 p-0">
        <div class="row">
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
                <p-scrollPanel styleClass="scroll-class">
                    <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12">
                            <div class="col-12 p-0">
                                <div class="global-card-bg-color view-carddata icon-size">
                                    <div class="col-12">
                                        <div class="row">
                                            <div class="col-6">
                                                <div class="d-flex">
                                                    <span class="card-icon"><i class="fa fa-product-hunt"></i></span>
                                                    <h6 class="sub-heading">
                                                        {{'LOANS.PRODUCT_DEFINITION' | translate}}
                                                    </h6>
                                                </div>
                                            </div>
                                            <!-- <div class="col-6" *ngIf="editbtn">
                                                <p-button icon="fa fa-pencil-square-o" class="kyc-edit-btn pull-right"
                                                    (click)="editTermLoansproductDefinationdetails(termLoanProductDefinitionModel,0)"></p-button>
                                            </div> -->
                                        </div>
                                        <div class="col-12">
                                            <div class="row">
                                                <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px">
                                                    <h6 class="label-view">{{'LOANS.PRODUCT_NAME'
                                                        |translate}}</h6>
                                                    <p class="label-input-text">{{ termLoanProductDefinitionModel.name}}</p>
                                                </div>
                                               
                                                <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px viewcustom-input-number">
                                                    <h6 class="label-view">
                                                        {{'LOANS.MIN_AMOUNT' |translate}}</h6>
                                                        <p-inputNumber id="bunit_txt_name" [(ngModel)]="termLoanProductDefinitionModel.eligibleMInAmount" 
                                                        mode="currency" inputId="currency-india" currency="INR" locale="en-IN" [disabled]="true" styleClass="label-input-text"> </p-inputNumber>

                                                </div>
                                                <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px viewcustom-input-number">
                                                    <h6 class="label-view">
                                                        {{'LOANS.MAX_AMOUNT' |translate}}</h6>
                                                        <p-inputNumber id="bunit_txt_name" [(ngModel)]="termLoanProductDefinitionModel.eligibleMaxAmount" 
                                                        mode="currency" inputId="currency-india" currency="INR" locale="en-IN" [disabled]="true" styleClass="label-input-text"> </p-inputNumber>

                                                </div>
                                                <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px">
                                                    <h6 class="label-view">
                                                        {{'LOANS.MIN_LOAN_PERIOD_IN_MONTHS' |translate}}</h6>
                                                      
                                                        <p class="label-input-text"> {{ termLoanProductDefinitionModel.minLoanPeriod  }}
                                                </div>
                                                <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px">
                                                    <h6 class="label-view">
                                                        {{'LOANS.MAX_LOAN_PERIOD_IN_MONTHS' |translate}}</h6>
                                                        <p class="label-input-text"> {{ termLoanProductDefinitionModel.maxLoanPeriod  }}
                                                </div>
                                                <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px">
                                                    <h6 class="label-view">
                                                        {{'LOANS.DEMAND_ALERT_DAYS' |translate}}</h6>
                                                        
                                                        <p class="label-input-text"> {{ termLoanProductDefinitionModel.demandAlertDays  }}
                                                </div>
                                            
                                                <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px">
                                                    <h6 class="label-view">
                                                        {{'LOANS.DEFAULTER_ALERT_DAYS' |translate}}</h6>
                                                       
                                                        <p class="label-input-text"> {{ termLoanProductDefinitionModel.defaulterAlertDays  }}
                                                </div>
                                                <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px">
                                                    <h6 class="label-view">
                                                        {{'LOANS.MAX_LOAN_ACCOUNTS_ALLOWED' |translate}}</h6>
                                                        <p class="label-input-text"> {{ termLoanProductDefinitionModel.maxLoanAccountsAllowed  }}
                                                </div>
                                                <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px">
                                                    <h6 class="label-view">{{'LOANS.LINK_SHARE_CAPITAL_APPLICABLE'
                                                        |translate}}</h6>
                                                    <p class="label-input-text"> {{ termLoanProductDefinitionModel.loanLinkedshareCapitalApplicable ? 'Yes' : 'No' }}
                                                    </p>
                                                </div>
                                                <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px">
                                                    <h6 class="label-view">
                                                        {{'LOANS.NO_GUARANTORS_REQUIRED' |translate}}</h6>
                                                        <p class="label-input-text"> {{ termLoanProductDefinitionModel.noOfGuarantorsRequired  }}
                                                </div>
                                                <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px">
                                                    <h6 class="label-view">{{'LOANS.IS_INSURANCE_APPLICABLE'
                                                        |translate}}</h6>
                                                    <p class="label-input-text"> {{ termLoanProductDefinitionModel.isInsuranceAppicable ? 'Yes' : 'No' }}
                                                    </p>
                                                </div>
                                                <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px">
                                                    <h6 class="label-view">
                                                        {{'LOANS.MIN_DAYS_FOR_RENEWAL' |translate}}</h6>
                                                        <p class="label-input-text"> {{ termLoanProductDefinitionModel.minDaysForRenewel  }}
                                                </div>
                                            
                                                <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px">
                                                    <h6 class="label-view">
                                                        {{'LOANS.REPAYMENT_FREQUENCY' |translate}}</h6>
                                                        <p class="label-input-text"> {{ termLoanProductDefinitionModel.interestPostingFrequencyName}}
                                                </div>
                                                <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px">
                                                    <h6 class="label-view">
                                                        {{'LOANS.COLLATERAL_TYPE' |translate}}</h6>
                                                        <div class="d-flex">
                                                          <p class="label-input-text ml-1"  *ngFor="let collateral of collateralList">
                                                                  {{ collateral.label}}
                                                                </p>
                                                               
                                                            </div>
                                                        </div>
                                                <div class="col-lg-3 col-md-4 col-sm-6 col-xs-6 min-h-50px">
                                                    <h6 class="label-view">
                                                        {{'LOANS.EFFECTIVE_START_DATE' |translate}}
                                                    </h6>
                                                    <p class="label-input-text">{{termLoanProductDefinitionModel.effectiveStartDate}}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 p-1"></div>
                        <div class="col-lg-12 col-md-12 col-sm-12">
                            <div class="col-12 p-0">
                                <div class=" global-card-bg-color view-carddata icon-size">
                                    <div class="col-12">
                                        <div class="row">
                                            <div class="col-9">
                                                <div class="d-flex">
                                                    <span class="card-icon"><i class="fa fa-newspaper-o"></i></span>
                                                    <h6 class="sub-heading">
                                                        {{'LOANS.INTEREST_POLICY' |translate}}</h6>
                                                </div>
                                            </div>
                                            <!-- <div class="col-3" *ngIf="editbtn">
                                                <p-button icon="fa fa-pencil-square-o" class="kyc-edit-btn pull-right"
                                                    (click)="editTermLoansproductDefinationdetails(termLoanProductDefinitionModel,1)"></p-button>
                                            </div> -->
                                        </div>
                                        

                                        <div class="globel-border-top-color"></div>
                                        <p-table [value]="interestPolicyList" dataKey="id"
                                            selectionMode="single" styleClass="p-datatable-striped"
                                            [showJumpToPageDropdown]="true" [showPageLinks]="false" [rows]="5"
                                            [paginator]="false" [pageLinks]="1" [responsive]="true"
                                            rowExpandMode="single">
                                            <ng-template pTemplate="header">
                                                <tr>
                                                    <th> {{'LOANS.MIN_SLAB_AMOUNT' | translate}}</th> 
                                                    <th> {{'LOANS.MAX_SLAB_AMOUNT' | translate}}</th> 
                                                    <th> {{'LOANS.ROI' | translate}}</th>
                                                    <th>{{'LOANS.PENAL_INTEREST' | translate}}</th>
                                                    <th> {{'LOANS.IOD_APPLICABLE' | translate}}</th>
                                                    <th> {{'LOANS.IOD' | translate}}</th>
                                                    <th> {{'LOANS.WOMEN' | translate}}</th>
                                                    <th> {{'LOANS.EMPLOYEE' | translate}}</th>
                                                    <th>{{'LOANS.SENIOR_CITIZEN' | translate}}</th>
                                                </tr>
                                            </ng-template>
                                            <ng-template pTemplate="body" let-rowData>
                                                <tr>
                                                    <td>{{ rowData.minSlabAmount }}</td>
                                                    <td>{{ rowData.maxSlabAmount }}</td>
                                                    <td>{{ rowData.roi }}</td>
                                                    <td>{{ rowData.penalInterest }}</td>
                                                    <td>{{ rowData.iodApplicable ? 'Yes' : 'No' }}</td>
                                                    <td>{{ rowData.iod }}</td>
                                                    <td>{{rowData.womenConcession}}</td>
                                                    <td>{{rowData.employeeConcession}}</td>
                                                    <td>{{rowData.seniorCitizenConcession}}</td>
                                                </tr>
                                            </ng-template>
                                        </p-table>
                                        <div class="col-12 p-1"></div>
                                        <h6 class="sub-heading mt-1">
                                            {{'LOANS.COLLECTION_APPORTION_ORDER' |translate}}</h6>
                                        <p-table [value]="collectionOrderList" dataKey="id"
                                        selectionMode="single" styleClass="p-datatable-striped"
                                        [showJumpToPageDropdown]="true" [showPageLinks]="false" [rows]="5"
                                        [paginator]="false" [pageLinks]="1" [responsive]="true"
                                        rowExpandMode="single">
                                        <ng-template pTemplate="header">
                                            <tr>
                                                <th> {{'LOANS.COLLECTION_COMPONENT' | translate}}</th>
                                                <th> {{'LOANS.ORDER' | translate}}</th>
                                              
                                            </tr>
                                        </ng-template>
                                        <ng-template pTemplate="body" let-rowData>
                                            <tr>
                                                <td>{{ rowData.collectionComponentName }}</td>
                                                <td>{{ rowData.apportionOrder }}</td>
                                            </tr>
                                        </ng-template>
                                    </p-table>
                                        <div class="col-12 margtop-3rem"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 p-1"></div>
                        <div class="col-lg-12 col-md-12 col-sm-12">
                            <div class="col-12 p-0">
                                <div class=" global-card-bg-color view-carddata icon-size">
                                    <div class="col-12">
                                        <div class="row">
                                            <div class="col-9">
                                                <div class="d-flex">
                                                    <span class="card-icon"><i class="fa fa-link"></i></span>
                                                    <h6 class="sub-heading">
                                                        {{'LOANS.LINKED_SHARE_CAPITAL' |translate}}</h6>
                                                </div>
                                            </div>
                                            <!-- <div class="col-3" *ngIf="editbtn">
                                                <p-button icon="fa fa-pencil-square-o" class="kyc-edit-btn pull-right"
                                                    (click)="editTermLoansproductDefinationdetails(termLoanProductDefinitionModel,2)"></p-button>
                                            </div> -->
                                        </div>
                                        

                                        <div class="globel-border-top-color"></div>
                                        <p-table [value]="linkedShareCapitalList" dataKey="id"
                                            selectionMode="single" styleClass="p-datatable-striped"
                                            [showJumpToPageDropdown]="true" [showPageLinks]="false" [rows]="5"
                                            [paginator]="false" [pageLinks]="1" [responsive]="true"
                                            rowExpandMode="single">
                                            <ng-template pTemplate="header">
                                                <tr>
                                                    <th> {{'LOANS.COLLECTION_TYPE' | translate}}</th>
                                                    <th> {{'LOANS.COLLECTION_VALUE' | translate}}</th>
                                                    <th> {{'LOANS.MIN_SLAB_AMOUNT' | translate}}</th>
                                                    <th> {{'LOANS.MAX_SLAB_AMOUNT' | translate}}</th>
                                                    <th> {{'LOANS.GST_APPLICABLE' | translate}}</th>
                                                    <th> {{'LOANS.CGST' | translate}}</th>
                                                    <th> {{'LOANS.SGST' | translate}}</th>
                                                    <th> {{'LOANS.IGST' | translate}}</th>
                                                </tr>
                                            </ng-template>
                                            <ng-template pTemplate="body" let-rowData>
                                                <tr>
                                                    <td>{{ rowData.collectionTypeName }}</td>
                                                    <td>{{ rowData.collectionValue }}</td>
                                                    <td>{{ rowData.minSlabAmount }}</td>
                                                    <td>{{ rowData.maxSlabAmount }}</td>
                                                    <td>{{rowData.gstApplicable ? 'Yes' : 'No'}}</td>
                                                    <td>{{rowData.cgstPercentage}}</td>
                                                    <td>{{rowData.sgstPercentage}}</td>
                                                    <td>{{rowData.igstPercentage}}</td>
                                                </tr>
                                            </ng-template>
                                        </p-table>
                                        <div class="col-12 margtop-3rem"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 p-1"></div>
                        <div class="col-lg-12 col-md-12 col-sm-12">
                            <div class="col-12 p-0">
                                <div class=" global-card-bg-color view-carddata icon-size">
                                    <div class="col-12">
                                        <div class="row">
                                            <div class="col-9">
                                                <div class="d-flex">
                                                    <span class="card-icon"><i class="fa fa-list-alt"></i></span>
                                                    <h6 class="sub-heading">
                                                        {{'LOANS.CHARGES' |translate}}</h6>
                                                </div>
                                            </div>
                                            <!-- <div class="col-3" *ngIf="editbtn">
                                                <p-button icon="fa fa-pencil-square-o" class="kyc-edit-btn pull-right"
                                                    (click)="editTermLoansproductDefinationdetails(termLoanProductDefinitionModel,3)"></p-button>
                                            </div> -->
                                        </div>
                                        

                                        <div class="globel-border-top-color"></div>
                                        <p-table [value]="chargesList" dataKey="id"
                                            selectionMode="single" styleClass="p-datatable-striped"
                                            [showJumpToPageDropdown]="true" [showPageLinks]="false" [rows]="5"
                                            [paginator]="false" [pageLinks]="1" [responsive]="true"
                                            rowExpandMode="single">
                                            <ng-template pTemplate="header">
                                                <tr>
                                                    <th> {{'LOANS.CHARGES_TYPE' | translate}}</th>
                                                    <th> {{'LOANS.CHARGES' | translate}}</th>
                                                    <th>{{'LOANS.MIN_SLAB_AMOUNT' | translate}}</th>
                                                    <th>{{'LOANS.MAX_SLAB_AMOUNT' | translate}}</th>
                                                    <th> {{'LOANS.COLLECTION_FREQUENCY' | translate}}</th>
                                                    <th> {{'LOANS.MIN_CHARGES' | translate}}</th>
                                                    <th> {{'LOANS.MAX_CHARGES' | translate}}</th>
                                                    <th> {{'LOANS.CGST' | translate}}</th>
                                                    <th> {{'LOANS.SGST' | translate}}</th>
                                                    <th> {{'LOANS.IGST' | translate}}</th>
                                                </tr>
                                            </ng-template>
                                            <ng-template pTemplate="body" let-rowData>
                                                <tr>
                                                    <td>{{ rowData.chargesTypeName }}</td>
                                                    <td>{{ rowData.charges }}</td>
                                                    <td>{{ rowData.minSlabAmount }}</td>
                                                    <td>{{ rowData.maxSlabAmount }}</td>
                                                    <td>{{rowData.collectionFrequencyName}}</td>
                                                    <td>{{rowData.minCharges}}</td>
                                                    <td>{{rowData.maxChrges}}</td>
                                                    <td>{{rowData.cgst}}</td>
                                                    <td>{{rowData.sgst}}</td>
                                                    <td>{{rowData.igst}}</td>
                                                </tr>
                                            </ng-template>
                                        </p-table>
                                        <div class="col-12 margtop-3rem"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 p-1"></div>
                        <div class="col-lg-12 col-md-12 col-sm-12">
                            <div class="col-12 p-0">
                                <div class=" global-card-bg-color view-carddata icon-size">
                                    <div class="col-12">
                                        <div class="row">
                                            <div class="col-9">
                                                <div class="d-flex">
                                                    <span class="card-icon"><i class="fa fa-bandcamp"></i></span>
                                                    <h6 class="sub-heading">
                                                        {{'LOANS.PURPOSE' |translate}}</h6>
                                                </div>
                                            </div>
                                            <!-- <div class="col-3" *ngIf="editbtn">
                                                <p-button icon="fa fa-pencil-square-o" class="kyc-edit-btn pull-right"
                                                    (click)="editTermLoansproductDefinationdetails(termLoanProductDefinitionModel,4)"></p-button>
                                            </div> -->
                                        </div>
                                        

                                        <div class="globel-border-top-color"></div>
                                        <p-table [value]="purposeList" dataKey="id"
                                            selectionMode="single" styleClass="p-datatable-striped"
                                            [showJumpToPageDropdown]="true" [showPageLinks]="false" [rows]="5"
                                            [paginator]="false" [pageLinks]="1" [responsive]="true"
                                            rowExpandMode="single">
                                            <ng-template pTemplate="header">
                                                <tr>
                                                    <th> {{'LOANS.PURPOSE_TYPE' | translate}}</th>
                                                    <th> {{'LOANS.MIN_GESTATION_PERIOD' | translate}}</th>
                                                    <th> {{'LOANS.MAX_GESTATION_PERIOD' | translate}}</th>
                                                    <th> {{'LOANS.REMARKS' | translate}}</th>
                                                </tr>
                                            </ng-template>
                                            <ng-template pTemplate="body" let-rowData>
                                                <tr>
                                                    <td>{{ rowData.loanPurposeName }}</td>
                                                    <td>{{ rowData.gesitationPeriod }}</td>
                                                    <td>{{ rowData.maxGesitationPeriod }}</td>
                                                    <td>{{ rowData.remarks }}</td>
                                                </tr>
                                            </ng-template>
                                        </p-table>
                                        <div class="col-12 margtop-3rem"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 p-1"></div>
                        <div class="col-lg-12 col-md-12 col-sm-12">
                            <div class="col-12 p-0">
                                <div class=" global-card-bg-color view-carddata icon-size">
                                    <div class="col-12">
                                        <div class="row">
                                            <div class="col-9">
                                                <div class="d-flex">
                                                    <span class="card-icon"><i class="fa fa-file-text"></i></span>
                                                    <h6 class="sub-heading">
                                                        {{'LOANS.REQUIRED_DOCUMENTS' |translate}}</h6>
                                                </div>
                                            </div>
                                            <!-- <div class="col-3" *ngIf="editbtn">
                                                <p-button icon="fa fa-pencil-square-o" class="kyc-edit-btn pull-right"
                                                    (click)="editTermLoansproductDefinationdetails(termLoanProductDefinitionModel,5)"></p-button>
                                            </div> -->
                                        </div>

                                        <div class="globel-border-top-color"></div>
                                        <p-table [value]="requiredDocumentsList" dataKey="id" selectionMode="single"
                                            styleClass="p-datatable-striped"
                                            [showJumpToPageDropdown]="true" [showPageLinks]="false" [rows]="5"
                                            [paginator]="false" [pageLinks]="1" [responsive]="true"
                                            rowExpandMode="single">
                                            <ng-template pTemplate="header">
                                                <tr>
                                                    <th>{{'LOANS.DOCUMENT_TYPE' | translate}}</th>
                                                    <th>{{'LOANS.IS_MANDATORY' | translate}}</th>
                                                </tr>
                                            </ng-template>
                                            <ng-template pTemplate="body" let-rowData>
                                                <tr>
                                                    <td>{{ rowData.documentTypeName }}</td>
                                                    <td>{{ rowData.isRequired ? 'Yes' : 'No' }}</td>
                                                </tr>
                                            </ng-template>
                                        </p-table>
                                        <div class="col-12 margtop-3rem"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </p-scrollPanel>

                <div class="col-12 viewbottom-footer icon-size">
                    <div class="row">
                        <div class="col-xl-3 col-lg-4 col-md-3 col-sm-4 mt-4">
                            <p-button icon="fa fa-download" iconPos="left" pTooltip="Filename.pdf"
                                tooltipPosition="top"></p-button>
                            <p-button icon="fa fa-print" iconPos="left" pTooltip="Print"
                                tooltipPosition="top"></p-button>
                        </div>
                        <div class="col-12 p-3 bottom-padding"></div>
                        <div class="col-xl-3 col-lg-4 col-md-4 col-sm-4 mt-4">
                            <div class="form-label">
                                <label> <span class="red">*</span> {{'ERP.STATUS' | translate}}</label>
                                <p-dropdown [filter]="true" [options]="statusList" placeholder="Select"
                                    [(ngModel)]="termLoanProductDefinitionModel.statusName" (onChange)="onStatusChange($event)"></p-dropdown>
                            </div>
                        </div>
    
                        <div class="col-xl-3 col-lg-4 col-md-4 col-sm-4 mt-4">
                            <div class="form-label">
                                <label>{{'ERP.REMARKS' | translate}}</label>
                                <textarea type="text" class="form-control" pInputTextarea
                                    placeholder="Enter Remarks Here"
                                    [(ngModel)]="termLoanProductDefinitionModel.remarks"></textarea>
                            </div>
                        </div> 
                    <div class="col-xl-3 col-lg-8 col-md-3 col-sm-8 mt-4">
                        <div class="d-flex justify-content-end">
                            <p-button (click)="navigateToBack()"
                                label="{{'LOANS.BACK' | translate}}"></p-button>
                                <p-button  label="{{'TERMDEPOSITSTRANSACTION.SUBMIT' | translate}}" (click)="submit()" [disabled]="isDisableSubmit"></p-button>
                        </div>
                    </div>
                </div>
                <div class="col-12"></div>
            </div>
        </div>
    </div>
</div>