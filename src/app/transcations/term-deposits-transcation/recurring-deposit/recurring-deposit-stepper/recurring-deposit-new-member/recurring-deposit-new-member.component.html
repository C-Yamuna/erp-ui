<div class="col-12">
    <p-messages label="Info" life="3000" [(value)]="msgs" [showTransitionOptions]="'500ms'" [hideTransitionOptions]="'500ms'"></p-messages>
    <h6 class="sub-heading">{{'ERP.BASIC_DETAILS' | translate}}</h6>
        <div class="col-12 p-0 bg-label-colorfull">
            <div class="row g-3 mt-n1">
        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12 ">
            <div class="form-label">
            <label><span class="red">*</span>{{'ERP.MEMBER_TYPE' | translate}}</label>
            <p-dropdown id="bunit_txt_status" placeholder="Select" [filter]="true" [options]="memberTypeList"
                [(ngModel)]="memberTypeId" [disabled]='disableMemberType'
                (onChange)="OnChangeMemberType($event)"></p-dropdown>
        </div>
        </div>
        </div>
        </div>
        <!-- Individual Form start -->
        <div class="col-12 p-0 mt-4" *ngIf="individualFlag">
            <form [formGroup]="memberCreationForm">
                <h6 class="sub-heading">{{'ERP.REQUIRED_BASIC_DETAILS' | translate}}</h6>
                <div class="mt-n1 bg-label-colorfull">
                    <div class="row g-3 mt-0">
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                                <label><span class="red">*</span>{{'MEMBERSHIP_TRANSACTION.MEMBERSHIP_TYPE' | translate}}</label>
                                <p-dropdown id="bunit_txt_status" placeholder="Select" [filter]="true"
                                    [options]="subProductList" formControlName="subProductId"
                                    [(ngModel)]="membershipBasicDetailsModel.subProductId">
                                </p-dropdown>
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                                <label>{{'ERP.SOCIETY_ADMISSION_NUMBER' | translate}}</label>
                                <input pInputText type="text" formControlName="societyAdmissionNumber"
                                    [(ngModel)]="membershipBasicDetailsModel.societyAdmissionNumber"
                                    placeholder="Enter Society Admission Number">
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                            <label>{{'ERP.SURNAME' | translate}}</label>
                          
                                <input pInputText type="text" formControlName="surName"
                                    [(ngModel)]="  membershipBasicDetailsModel.surname" placeholder="Enter Surname">
                            
                            <p-message severity="error" text="Enter Valid Name"
                                *ngIf="!memberCreationForm.controls['surName'].valid && memberCreationForm.controls['surName'].dirty">
                            </p-message>
                        </div>
                    </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                            <label><span class="red">*</span>{{'ERP.NAME' | translate}}</label>
                           
                                <input pInputText type="text" formControlName="name"
                                    [(ngModel)]="  membershipBasicDetailsModel.name" placeholder="Enter Name">
                                <p-message severity="error" text="Enter Valid Name"
                                    *ngIf="!memberCreationForm.controls['name'].valid && memberCreationForm.controls['name'].dirty">
                                </p-message>
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                            <label><span class="red">*</span>{{'ERP.AGE' | translate}}</label>
                                <input pInputText type="text" formControlName="age"  (focusout)="ageCaluculation(true)"
                                    [(ngModel)]="  membershipBasicDetailsModel.age" placeholder="Enter Age">
                                <p-message severity="error" text="Enter Valid age"
                                    *ngIf="!memberCreationForm.controls['age'].valid && memberCreationForm.controls['age'].dirty">
                                </p-message>
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                            <label><span class="red">*</span>{{'ERP.DATE_OF_BIRTH' | translate}}</label>
                            
                                <p-calendar formControlName="dateOfBirth" [showIcon]="true"
                                    dateFormat="{{orgnizationSetting.calendar}}" placeholder="DD/MM/YYYY"
                                    [(ngModel)]="  membershipBasicDetailsModel.dobVal" (onSelect)="dateConverstion()">
                                </p-calendar>
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                            <label><span class="red">*</span>{{'ERP.GENDER' | translate}}</label>
                           
                                <p-dropdown placeholder="{{'ERP.SELECT' | translate}}" [options]="genderList"
                                    formControlName="gender"
                                    [(ngModel)]="  membershipBasicDetailsModel.genderId"></p-dropdown>
                                </div>
                        </div>
                        </div>
                        <div class="row g-3 mt-0">
                            <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                                <div class="form-label">
                                <label><span class="red">*</span>{{'ERP.MARITAL_STATUS' | translate}}</label>
                               
                                    <p-dropdown placeholder="{{'ERP.SELECT' | translate}}" [options]="maritalstatusList"
                                        formControlName="maritalStatus"
                                        [(ngModel)]="  membershipBasicDetailsModel.martialId"></p-dropdown>
                                    </div>
                            </div>
                            <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                                <div class="form-label">
                                <label><span class="red">*</span>{{'ERP.RELATIONSHIP_WITH_MEMBER' | translate}}</label>
                               
                                    <p-dropdown placeholder="{{'ERP.SELECT' | translate}}" [options]="relationTypesList"
                                        formControlName="relationName" (onChange)="onChangeRelationTypeChange($event)"
                                        [(ngModel)]="  membershipBasicDetailsModel.relationId"></p-dropdown>
                                    </div> 
                            </div>
                            <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                                <div class="form-label">
                                <label><span class="red">*</span>{{'ERP.RELATION_NAME' | translate}}</label>
                                
                                    <input pInputText type="text" formControlName="relationWithMember"
                                        [(ngModel)]="  membershipBasicDetailsModel.relativeName" placeholder="Enter Relation Name">
                                    <p-message severity="error" text="Enter Valid relativeName"
                                        *ngIf="!memberCreationForm.controls['relationWithMember'].valid && memberCreationForm.controls['relationWithMember'].dirty">
                                    </p-message>
                                </div>
                            </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12 ">
                            <div class="form-label">
                                <label><span class="red">*</span>{{'ERP.QUALIFICATON' | translate}}</label>
                                <p-dropdown [options]="groupedQualificationSubQualification"
                                [(ngModel)]="membershipBasicDetailsModel.qualificationId" formControlName="qualificationId" placeholder="Select"
                                [group]="true" [filter]="true" (onChange)="onChangeQualificationChange()">
                                <ng-template let-group pTemplate="group">
                                    <span>{{group.label}}</span>
                                </ng-template>
                            </p-dropdown>
                               
                                    <!-- <p-dropdown placeholder="{{'ERP.SELECT' | translate}}"
                                        [options]="qualificationTypes" formControlName="quslification"
                                        [(ngModel)]="  membershipBasicDetailsModel.qualificationId"></p-dropdown> -->
                                    </div>
                            
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12 ">
                            <div class="form-label">
                                <label><span class="red">*</span>{{'ERP.OCCUPATION' | translate}}</label>
                              
                                    <p-dropdown placeholder="{{'ERP.SELECT' | translate}}"
                                        [options]="occupationTypeList" formControlName="occupation"
                                        [(ngModel)]="  membershipBasicDetailsModel.occupationId"></p-dropdown>

                                    </div> 
                        </div>
                        </div>
                        <div class="row g-3 mt-0">
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                            <label><span class="red">*</span>{{'ERP.CASTE' | translate}}</label>
                            <p-dropdown [options]="groupedCasteSubCaste" [(ngModel)]="membershipBasicDetailsModel.casteId"
                            formControlName="casteId" placeholder="Select" [group]="true" [filter]="true"
                            (onChange)="onChangeCasteChange()">
                            <ng-template let-group pTemplate="group">
                                <span>{{group.label}}</span>
                            </ng-template>
                        </p-dropdown>
                                <!-- <p-dropdown placeholder="{{'ERP.SELECT' | translate}}" [options]="castesList"
                                    formControlName="caste"
                                    [(ngModel)]="  membershipBasicDetailsModel.casteId"></p-dropdown> -->

                                </div> 
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                            <label><span class="red">*</span>{{'ERP.COMMUNITYS' | translate}}</label>
                           
                            <p-dropdown placeholder="{{'ERP.SELECT' | translate}}" [options]="communityList"
                            formControlName="community"
                            [(ngModel)]="  membershipBasicDetailsModel.communityId"></p-dropdown>

                                </div> 
                        </div>
                        </div>
                        <div class="row g-3 mt-0">
                        
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                            <label><span class="red">*</span>{{'ERP.AADHAR_NUMBER' | translate}}</label>
                           
                                <input pInputText type="text" formControlName="aadharNumber"
                                    [(ngModel)]="  membershipBasicDetailsModel.aadharNumber" placeholder="Enter Aadhar Number">
                                <p-message severity="error" text="Enter Valid aadharNumber"
                                    *ngIf="!memberCreationForm.controls['aadharNumber'].valid && memberCreationForm.controls['aadharNumber'].dirty">
                                </p-message>
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                            <label><span class="red">*</span>{{'ERP.PAN_NUMBER' | translate}}</label>
                           
                                <input pInputText type="text" formControlName="panNumber"
                                    [(ngModel)]="  membershipBasicDetailsModel.panNumber" placeholder="Enter PAN Number">
                                <p-message severity="error" text="Enter Valid Pan Number"
                                    *ngIf="!memberCreationForm.controls['panNumber'].valid && memberCreationForm.controls['panNumber'].dirty">
                                </p-message>
                            </div>
                        </div>
                        <!-- </div>
                        <div class="row g-3 mt-0"> -->
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                            <label><span class="red">*</span>{{'ERP.MOBILE_NUMBER' | translate}}</label>
                            
                                <input pInputText type="text" formControlName="mobileNumber" minlength="10" maxlength="10"
                                    [(ngModel)]="  membershipBasicDetailsModel.mobileNumber" placeholder="Enter Mobile Number">
                                <p-message severity="error" text="Enter Valid Mobile Number"
                                    *ngIf="!memberCreationForm.controls['mobileNumber'].valid && memberCreationForm.controls['mobileNumber'].dirty">
                                </p-message>
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                            <label>{{'ERP.EMAIL' | translate}}</label>
                            
                                <input pInputText type="text" formControlName="email"
                                    [(ngModel)]="  membershipBasicDetailsModel.emailId" placeholder="Enter Email">
                                <p-message severity="error" text="Enter Valid email"
                                    *ngIf="!memberCreationForm.controls['email'].valid && memberCreationForm.controls['email'].dirty">
                                </p-message>
                            </div>
                        </div>
                        </div>
                        <div class="row g-3 mt-0">
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                            <label><span class="red">*</span>{{'ERP.ADMISSION_DATE' | translate}}</label>
                           
                                <p-calendar formControlName="admissionDate" [showIcon]="true"
                                    dateFormat="{{orgnizationSetting.calendar}}" placeholder="DD/MM/YYYY"
                                    [(ngModel)]="  membershipBasicDetailsModel.admissionDateVal" (onSelect)="dateConverstion()">
                                </p-calendar>
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                                <label for="username">{{'ERP.ADMISSION_FEE' | translate}}
                                </label>
                                <input pInputText id="bunit_txt_name" maxlength="40" type="text" formControlName="admissionFee" [(ngModel)]="  membershipBasicDetailsModel.admissionFee" placeholder="Enter Admission Fee">
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                                <label for="code">
                                    <span class="red">*</span>{{'ERP.IS_STAFF' | translate}}
                                </label>
            
                                <p-dropdown [options]="requiredlist" formControlName="isStaff"
                                    [(ngModel)]="membershipBasicDetailsModel.isStaff" placeholder="Select"></p-dropdown>
                            </div>
                        </div>
                        <!-- <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                                <label for="username">
                                    <span class="red">*</span> {{'MEMBERSHIP_TRANSACTION.RESOLUTION_DATE' | translate}}
                                </label>
                                <p-calendar formControlName="resolutionDate" [showIcon]="true"
                                    [dateFormat]="orgnizationSetting.calendar" [(ngModel)]="membershipBasicDetailsModel.resolutionDateVal"
                                    placeholder="Enter Admission Date" [maxDate]="today">
                                </p-calendar>
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                                <label for="username">{{'MEMBERSHIP_TRANSACTION.RESOLUTION_NUMBER' | translate}}
                                </label>
                                <input pInputText id="bunit_txt_name" maxlength="40" type="text" formControlName="mcrNumber"
                                    [(ngModel)]="membershipBasicDetailsModel.mcrNumber">
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                                <span class=""> {{ 'MEMBERSHIP_TRANSACTION.RESOLUTION_COPY' | translate }} </span>
                                <div class="uplodad-style align-items-center">
                                    Upload Button Column
                                    <p-fileUpload #fileUpload class="qua-upld file-attach semi-bold" name="myfile[]"
                                        id="apply-leave_fileUp_attach" chooseLabel=" " name="file" accept=".pdf"
                                        (onRemove)="fileRemoeEvent('individualResolutionCopy')"
                                        (onSelect)="fileUploader($event,fileUpload ,'individualResolutionCopy')">
                                    </p-fileUpload>
                                    <div class="col-12  d-flex p-1 contant-body"
                                        *ngFor="let img of membershipBasicDetailsModel.multipartFileListForResolutionCopyPath">
                                        <div *ngIf="img.fileType=='pdf'">
                                            <a href="{{img.imageValue}}"> <img src="assets\images\pdf.png" width="22"
                                                    height="22"></a>
                                        </div>
                                        <div class="docname-texteclipse ml-3" pTooltip="{{img.fileName}}"
                                            tooltipPosition="bottom">
                                            {{img.fileName}}
                                        </div>
        
                                    </div>
                                </div>
                            </div>
        
                        </div> -->
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12 ">
                            <div class="form-label">
                            <span class=""><span class="red">*</span> {{ 'ERP.PHOTO_COPY' | translate }} </span>
                            <div class="uplodad-style align-items-center">
                                <!-- Upload Button Column -->
                                
                                <p-fileUpload #fileUpload class="qua-upld file-attach semi-bold" name="myfile[]"
                                    id="apply-leave_fileUp_attach" chooseLabel=" " name="file"
                                    accept=".png,.jpg,.jpeg" (onRemove)="fileRemoeEvent('individualPhotoCopy')" 
                                    (onSelect)="fileUploader($event,fileUpload,'individualPhotoCopy')" >
                                </p-fileUpload>
                                <div  class="col-12  d-flex p-1 contant-body" *ngFor="let img of membershipBasicDetailsModel.multipartFileListForPhotoCopy">
                                    <span *ngIf="img.fileType=='jpg' || img.fileType=='jpeg' || img.fileType=='png'">
                                        <a href="{{img.imageValue}}"> <img src="{{img.imageValue}}" width="22"
                                                height="22"></a>
                                    </span>  
                                    <span class="docname-texteclipse ml-3" pTooltip="{{img.fileName}}" tooltipPosition="bottom">
                                        {{img.fileName}}</span>
                                </div>
                            </div>
                            <!-- <div>
                                <input type="file" (change)="onImageSelected($event)" accept="image/*" />
                            </div> -->
                        </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12 ">
                            <div class="form-label">
                            <span class=""> <span class="red">*</span>{{ 'ERP.SIGNATURE_COPY' | translate }} </span>
                            <div class="uplodad-style align-items-center">
                                <!-- Upload Button Column -->
                                <p-fileUpload #fileUpload class="qua-upld file-attach semi-bold" name="myfile[]"
                                id="apply-leave_fileUp_attach" chooseLabel=" " name="file" accept=".png,.jpg,.jpeg" (onRemove)="fileRemoeEvent('individualSighnedCopy')"
                                (onSelect)="fileUploader($event,fileUpload ,'individualSighnedCopy')">
                                </p-fileUpload>
                                <div class="col-12  d-flex p-1 contant-body" *ngFor="let img of membershipBasicDetailsModel.multipartFileListForsignatureCopyPath">
                                    <span *ngIf="img.fileType=='jpg' || img.fileType=='jpeg' || img.fileType=='png'">
                                        <a href="{{img.imageValue}}"> <img src="{{img.imageValue}}" width="22" height="22"></a>
                                    </span>
                                    <span class="docname-texteclipse ml-3" pTooltip="{{img.fileName}}" tooltipPosition="bottom">
                                        {{img.fileName}}</span>
                                    </div>  
                                </div>

                            </div>

                            <!-- <div>
                                    <input type="file" (change)="onFileSelected($event)" accept="image/*" />
                                </div> -->

                        </div>
                    </div>
                </div>
            </form>
        </div>
        <!-- Individual Form end -->
        <!-- Group form start -->
        <div class="col-12 p-0 mt-4" *ngIf="groupFlag">
            <form [formGroup]="groupForm">
                <h6 class=" sub-heading">{{'ERP.GROUP_DETAILS' | translate}}</h6>
                <div class="mt-n1  bg-label-colorfull">
                    <div class="row g-3 mt-0">
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                                <label><span class="red">*</span>{{'MEMBERSHIP_TRANSACTION.MEMBERSHIP_TYPE' | translate}}</label>
                                <p-dropdown id="bunit_txt_status" placeholder="Select" [filter]="true"
                                    [options]="subProductList" formControlName="subProductId"
                                    [(ngModel)]="membershipGroupDetailsModel.subProductId">
                                </p-dropdown>
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                                <label><span class="red">*</span>{{'ERP.GROUP_TYPES' | translate}}</label>
                                <p-dropdown [options]="groupTypes" placeholder="Select" formControlName="groupTypeId"
                                    [(ngModel)]="membershipGroupDetailsModel.groupTypeId" [appendTo]="'body'"
                                    (onChange)="groupTypeOnChange()">
                                </p-dropdown>
    
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                                <label>{{'ERP.SOCIETY_ADMISSION_NUMBER' | translate}}</label>
                                <input pInputText type="text" formControlName="societyAdmissionNumber"
                                    [(ngModel)]="membershipGroupDetailsModel.societyAdmissionNumber"
                                    placeholder="Enter Society Admission Number">
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                            <label><span class="red">*</span>{{'ERP.GROUP_NAME' | translate}}</label>
                                <input pInputText id="bunit_txt_name" maxlength="40" type="text"
                                    formControlName="name" [(ngModel)]="  membershipGroupDetailsModel.name" placeholder="Enter Group Name">
                                <p-message severity="error" text="Enter Valid name"
                                    *ngIf="!groupForm.controls['name'].valid && groupForm.controls['name'].dirty">
                                </p-message>
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                            <label><span class="red">*</span>{{'ERP.REGISTERED_NO' | translate}}</label>
                                <input pInputText id="bunit_txt_name" maxlength="40" type="text"
                                    formControlName="registrationNumber" placeholder="Enter Registered Number"
                                    [(ngModel)]="  membershipGroupDetailsModel.registrationNumber">
                                <p-message severity="error" text="Enter Valid registrationNumber"
                                    *ngIf="!groupForm.controls['registrationNumber'].valid && groupForm.controls['registrationNumber'].dirty">
                                </p-message>
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                            <label><span class="red">*</span>{{'ERP.REGISTERED_DATE' | translate}}</label>
                                <p-calendar [showIcon]="true" formControlName="registrationDate" [showIcon]="true"
                                dateFormat="{{orgnizationSetting.calendar}}" placeholder="DD/MM/YYYY"
                                    [(ngModel)]="  membershipGroupDetailsModel.registrationDateVal" (onSelect)="dateConverstion()"></p-calendar>
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                                <label><span class="red">*</span>{{'ERP.TYPE_OF_OPERATION' | translate}}</label>
                                <p-dropdown [options]="operatorTypeList" placeholder="Select" formControlName="operatorTypeId"
                                    [(ngModel)]="membershipGroupDetailsModel.operatorTypeId" [appendTo]="'body'">
                                </p-dropdown>
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                            <label><span class="red">*</span>{{'ERP.ADMISSION_DATE' | translate}}</label>
                                <p-calendar [showIcon]="true" formControlName="admissionDate" [showIcon]="true"
                                dateFormat="{{orgnizationSetting.calendar}}" placeholder="DD/MM/YYYY"
                                    [(ngModel)]="  membershipGroupDetailsModel.admissionDateVal" (onSelect)="dateConverstion()"></p-calendar>
                            </div>
                        </div>
                        </div>
                        <div class="row g-3 mt-0">
                            <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12 ">
                                <div class="form-label">
                                <label><span class="red">*</span>{{'ERP.POC_NAME' | translate}}</label>
                                    <input pInputText id="bunit_txt_name"  type="text"
                                        formControlName="pocName" placeholder="Enter POC Name" [(ngModel)]="  membershipGroupDetailsModel.pocName"
                                        >
                                    <p-message severity="error" text="Enter Valid poc name"
                                        *ngIf="!groupForm.controls['pocName'].valid && groupForm.controls['pocName'].dirty">
                                    </p-message>
                                </div>
                            </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12 ">
                            <div class="form-label">
                            <label><span class="red">*</span>{{'ERP.POC_MOBILE_NO' | translate}}</label>
                                <input pInputText id="bunit_txt_name" minlength="10" maxlength="10" type="text"
                                    formControlName="mobileNumber" placeholder="Enter POC Mobile Number"
                                    [(ngModel)]="  membershipGroupDetailsModel.pocNumber">
                                <p-message severity="error" text="Enter Valid mobileNumber"
                                    *ngIf="!groupForm.controls['mobileNumber'].valid && groupForm.controls['mobileNumber'].dirty">
                                </p-message>
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                            <label><span class="red">*</span>{{'ERP.PAN_NUMBER' | translate}}</label>
                                <input pInputText id="bunit_txt_name" maxlength="40" type="text"
                                    formControlName="panNumber" [(ngModel)]="  membershipGroupDetailsModel.panNumber" placeholder="Enter PAN Number">
                                <p-message severity="error" text="Enter Valid panNumber"
                                    *ngIf="!groupForm.controls['panNumber'].valid && groupForm.controls['panNumber'].dirty">
                                </p-message>
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                            <label>{{'ERP.TAN_NUMBER' | translate}}</label>
                                <input pInputText id="bunit_txt_name" maxlength="40" type="text"
                                    formControlName="tanNumber" [(ngModel)]="  membershipGroupDetailsModel.tanNumber" placeholder="Enter TAN Number">
                                <p-message severity="error" text="Enter Valid tan Number"
                                    *ngIf="!groupForm.controls['tanNumber'].valid && groupForm.controls['tanNumber'].dirty">
                                </p-message>
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12 ">
                            <div class="form-label">
                            <label>{{'ERP.GST_NUMBER' | translate}}</label>
                                <input pInputText id="bunit_txt_name" maxlength="40" type="text"
                                    formControlName="gstNumber" [(ngModel)]="  membershipGroupDetailsModel.gstNumber" placeholder="Enter GST Number">
                                <p-message severity="error" text="Enter Valid gstNumber"
                                    *ngIf="!groupForm.controls['gstNumber'].valid && groupForm.controls['gstNumber'].dirty">
                                </p-message>
                            </div>
                        </div>
                    </div>
                </div>
           
            <div class="col-12"></div>
            
                <!-- <div class="col-12 pt-3" *ngIf="groupFlag"> -->
                <!-- <p-messages label="Info" life="3000" [(value)]="msgs"></p-messages> -->
                <!-- <div class="col-12"> -->

                <!-- <div class="border-top pb-2" *ngIf="groupFlag"></div> -->

                <div class="flex justify-content-between">
                    <div class="xl:col-5 lg:col-5 md:col-5 sm:col-6 pl-0">
                        <div class="sub-heading mt-1">{{'ERP.GROUP_PROMOTER_DETAILS' | translate}} </div>
                    </div>
                    <div class="xl:col-7 lg:col-7 md:col-7 sm:col-6 pr-0">
                        <div class="col-12 p-0">
                            <div class="d-flex justify-content-end search-input-style">
                                <div class="input-group search-box d-flex justify-content-end">
                                    <div class="search">
                                        <span class="p-input-icon-right">
                                            <i class="pi pi-search global-search-icon"></i>
                                            <input type="text" pInputText class="searchbox" placeholder="Search" />
                                        </span>
                                    </div>
                                </div>

                                <p-button type="submit" (click)="submitGropOrInstitution()" label="Submit" [disabled] = "(!groupForm.valid) || groupPromoters"
                                    iconPos="left" id="add_btn" ></p-button>
                                <p-button type="submit" (click)="onRowAddSave()" label="Add" icon="fa fa-plus" [disabled] = "groupOrInstitutionDisable || groupPromoters"
                                    iconPos="left" id="add_btn" ></p-button>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
                <div class="globel-border-top-color"></div>
                <!-- ............... <p-table #dt [value]="promoterDetails" dataKey="id" editMode="row"> -->
                    <form [formGroup]="promoterDetailsForm" id="proj_stakeholder_form">
                <p-table #dt [columns]="promoterColumns" [value]="promoterDetails" dataKey="uniqueId" editMode="row"
                    styleClass="p-datatable-striped" [rows]="5" [paginator]="true" [showJumpToPageDropdown]="true"
                    [showPageLinks]="false" [pageLinks]="1" [responsive]="true" rowExpandMode="single"
                    [globalFilterFields]="['surname', 'name', 'operatorTypeName', 'dob', 'age', 'genderName', 'maritalStatusName', 'mobileNumber', 'aadharNumber', 'emailId', 'startDate']">
                    <ng-template pTemplate="header">
                        <tr>
                            <th>{{'ERP.IS_POC' | translate}}</th>
                            <th>{{'ERP.SURNAME' | translate}}</th>
                            <th>{{'ERP.NAME' | translate}}</th>
                            <!-- <th>{{'ERP.TYPE_OF_OPERATOR' | translate}}</th> -->
                            <th>{{'ERP.AUTHORIZED_SIGNATORY' | translate}}</th>
                            <th>{{'ERP.DATE_OF_BIRTH' | translate}}</th>
                            <th>{{'ERP.AGE' | translate}}</th>
                            <!-- <th><span class="red">*</span>{{'ERP.GENDER' | translate}}</th> -->
                            <!-- <th><span class="red">*</span>{{'ERP.MARITAL_STATUS' | translate}}</th> -->
                            <!-- <th><span class="red">*</span>{{'ERP.MOBILE_NUMBER' | translate}}</th> -->
                            <!-- <th><span class="red">*</span>{{'ERP.EMAIL' | translate}}</th> -->
                            <th>{{'ERP.AADHAR_NUMBER' | translate}}</th>
                            <th>{{'ERP.JOINING_DATE' | translate}}</th>
                            <th class="width-15em">{{'ERP.ACTION' | translate}}</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-row  let-ri="rowIndex">
                        <tr>
                            <td>
                                {{row.isPoc}}
                            </td>
                            <td>
                                {{row.surname}}
                            </td>
                            <td>
                                {{row.name}}
                            </td>
                            <!-- <td>
                                {{row.operatorTypeName}}
                            </td> -->
                            <td>
                                {{row.authorizedSignatoryName}}
                                    
                            </td>
                            <td>
                                {{row.memDobVal}}
                            </td>
                            <td>
                                {{row.age}}
                            </td>
                            <!-- <td>
                                {{row.genderName}}
                            </td>
                            <td>
                                {{row.maritalStatusName}}
                            </td>
                            <td>
                                {{row.mobileNumber}}
                            </td>
                            <td>
                                {{row.emailId}}
                            </td> -->
                            <td>
                                {{row.aadharNumber}}
                            </td>
                            <td>
                                {{row.startDateVal}}
                            </td>
                            <td>
                                    <div class="global-action-btn flex align-items-center justify-content-start">
                                        <p-button  label="{{'ERP.EDIT' | translate}}" id="prj_stakehlder_bt_edit" class="action-view" [disabled]="groupPromoters" (click)="editPromoter(row)"></p-button>
                                    </div>
                    
                            </td>
                        </tr>
                    </ng-template>
                </p-table>
            </form>
        </div>
        <!-- Group form end -->
        <!-- Instution Form start -->
        <div class="col-12 p-0 mt-4" *ngIf="institutionFlag">
            <form [formGroup]="institutionForm">
                <h6 class="sub-heading">{{'ERP.INSTITUTION_DETAILS' | translate}}</h6>
                <div class="mt-n1  bg-label-colorfull">
                    <div class="row g-3 mt-0">
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                                <label><span class="red">*</span>{{'MEMBERSHIP_TRANSACTION.MEMBERSHIP_TYPE' | translate}}</label>
                                <p-dropdown id="bunit_txt_status" placeholder="Select" [filter]="true"
                                    [options]="subProductList" formControlName="subProductId"
                                    [(ngModel)]="membershipInstitutionDetailsModel.subProductId">
                                </p-dropdown>
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                                <label><span class="red">*</span>{{'ERP.INSTITUTION_TYPES' | translate}}</label>
                                <p-dropdown [options]="institutionTypes" placeholder="Select" formControlName="institutionType"
                                    [(ngModel)]="membershipInstitutionDetailsModel.institutionType" [appendTo]="'body'"
                                    (onChange)="institutionTypeOnChange()">
                                </p-dropdown>
    
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                                <label>{{'ERP.SOCIETY_ADMISSION_NUMBER' | translate}}</label>
                                <input pInputText type="text" formControlName="societyAdmissionNumber"
                                    [(ngModel)]="membershipInstitutionDetailsModel.societyAdmissionNumber"
                                    placeholder="Enter Society Admission Number">
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                            <label><span class="red">*</span>{{'ERP.INSTITUTION_NAME' | translate}}</label>
                                <input pInputText id="bunit_txt_name" maxlength="40" type="text"
                                    formControlName="name" [(ngModel)]="membershipInstitutionDetailsModel.name" placeholder="Enter Institution Name">
                                <p-message severity="error" text="Enter Valid name"
                                    *ngIf="!institutionForm.controls['name'].valid && institutionForm.controls['name'].dirty">
                                </p-message>
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                            <label><span class="red">*</span>{{'ERP.REGISTERED_NO' | translate}}</label>
                                <input pInputText id="bunit_txt_name" maxlength="40" type="text"
                                    formControlName="registrationNumber" placeholder="Enter Registered Number"
                                    [(ngModel)]="membershipInstitutionDetailsModel.registrationNumber">
                                <p-message severity="error" text="Enter Valid registrationNumber"
                                    *ngIf="!institutionForm.controls['registrationNumber'].valid && institutionForm.controls['registrationNumber'].dirty">
                                </p-message>
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                            <label><span class="red">*</span>{{'ERP.REGISTERED_DATE' | translate}}</label>
                                <p-calendar [showIcon]="true" formControlName="registrationDate" [showIcon]="true"
                                dateFormat="{{orgnizationSetting.calendar}}" placeholder="DD/MM/YYYY"
                                    [(ngModel)]="membershipInstitutionDetailsModel.registrationDateVal" (onSelect)="dateConverstion()"></p-calendar>
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                                <label><span class="red">*</span>{{'ERP.TYPE_OF_OPERATION' | translate}}</label>
                                <p-dropdown [options]="operatorTypeList" placeholder="Select" formControlName="operatorTypeId"
                                    [(ngModel)]="membershipInstitutionDetailsModel.operatorTypeId" [appendTo]="'body'">
                                </p-dropdown>
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                            <label><span class="red">*</span>{{'ERP.ADMISSION_DATE' | translate}}</label>
                                <p-calendar [showIcon]="true" formControlName="admissionDate" [showIcon]="true"
                                dateFormat="{{orgnizationSetting.calendar}}" placeholder="DD/MM/YYYY"
                                    [(ngModel)]="membershipInstitutionDetailsModel.admissionDateVal" (onSelect)="dateConverstion()"></p-calendar>
                            </div>
                        </div>
                        </div>
                        <!-- <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <label>{{'ERP.POC_NAME' | translate}}</label>
                            <div>
                                <input pInputText id="bunit_txt_name" maxlength="40" type="text"
                                    formControlName="pocName"
                                    [(ngModel)]="membershipInstitutionDetailsModel.mobileNumber">
                                <p-message severity="error" text="Enter Valid pocName"
                                    *ngIf="!institutionForm.controls['pocName'].valid && institutionForm.controls['pocName'].dirty">
                                </p-message>
                            </div>
                        </div> -->
                        <div class="row g-3 mt-0">
                            <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12 ">
                                <div class="form-label">
                                <label><span class="red">*</span>{{'ERP.POC_NAME' | translate}}</label>
                                    <input pInputText id="bunit_txt_name"  type="text"
                                        formControlName="pocName" placeholder="Enter POC Name" [(ngModel)]="membershipInstitutionDetailsModel.pocName"
                                        >
                                    <p-message severity="error" text="Enter Valid POC Name"
                                        *ngIf="!institutionForm.controls['pocName'].valid && institutionForm.controls['pocName'].dirty">
                                    </p-message>
                                </div>
                            </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12 ">
                            <div class="form-label">
                            <label><span class="red">*</span>{{'ERP.POC_MOBILE_NO' | translate}}</label>
                                <input pInputText id="bunit_txt_name" minlength="10" maxlength="10" type="text"
                                    formControlName="mobileNumber" placeholder="Enter POC Mobile Number"
                                    [(ngModel)]="membershipInstitutionDetailsModel.pocNumber">
                                <p-message severity="error" text="Enter Valid mobileNumber"
                                    *ngIf="!institutionForm.controls['mobileNumber'].valid && institutionForm.controls['mobileNumber'].dirty">
                                </p-message>
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                            <div class="form-label">
                            <label><span class="red">*</span>{{'ERP.PAN_NUMBER' | translate}}</label>
                                <input pInputText id="bunit_txt_name" maxlength="40" type="text"
                                    formControlName="panNumber" placeholder="Enter PAN Number"
                                    [(ngModel)]="membershipInstitutionDetailsModel.panNumber">
                                <p-message severity="error" text="Enter Valid panNumber"
                                    *ngIf="!institutionForm.controls['panNumber'].valid && institutionForm.controls['panNumber'].dirty">
                                </p-message>
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12 ">
                            <div class="form-label">
                            <label>{{'ERP.TAN_NUMBER' | translate}}</label>
                                <input pInputText id="bunit_txt_name" maxlength="40" type="text"
                                    formControlName="tanNumber" placeholder="Enter TAN Number"
                                    [(ngModel)]="membershipInstitutionDetailsModel.tanNumber">
                                <p-message severity="error" text="Enter Valid tanNumber"
                                    *ngIf="!institutionForm.controls['tanNumber'].valid && institutionForm.controls['tanNumber'].dirty">
                                </p-message>
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12 ">
                            <div class="form-label">
                            <label>{{'ERP.GST_NUMBER' | translate}}</label>
                                <input pInputText id="bunit_txt_name" maxlength="40" type="text"
                                    formControlName="gstNumber" placeholder="Enter GST Number"
                                    [(ngModel)]="membershipInstitutionDetailsModel.gstNumber">
                                <p-message severity="error" text="Enter Valid gstNumber"
                                    *ngIf="!institutionForm.controls['gstNumber'].valid && institutionForm.controls['gstNumber'].dirty">
                                </p-message>
                            </div>
                        </div>
                        
                    </div>
                </div>
                <div class="col-12"></div>
                <div class="flex justify-content-between">
                    <div class="xl:col-5 lg:col-5 md:col-5 sm:col-6 pl-0">
                        <div class="sub-heading mt-1">{{'ERP.OPERATOR_DETAILS' | translate}}</div>
                    </div>
                    <div class="xl:col-7 lg:col-7 md:col-7 sm:col-6 pr-0">
                        <div class="col-12 p-0">
                            <div class="d-flex justify-content-end search-input-style">
                                <div class="input-group search-box d-flex justify-content-end">
                                    <div class="search">
                                        <span class="p-input-icon-right">
                                            <i class="pi pi-search global-search-icon"></i>
                                            <input type="text" pInputText class="searchbox" placeholder="Search" />
                                        </span>
                                    </div>
                                </div>
                                <p-button type="submit" (click)="submitGropOrInstitution()" label="Submit" 
                                 [disabled]="(!institutionForm.valid) || institutionPromoterPopUp" iconPos="left" id="add_btn" ></p-button>
                                <p-button type="submit" (click)="onRowAddInstitution()" label="Add" 
                                    icon="fa fa-plus" [disabled]="groupOrInstitutionDisable || (institutionPromoterPopUp)" iconPos="left" id="add_btn" ></p-button>
                                    <!--  -->
                            </div>
                        </div>
                    </div>
               
                </div>
            </form>
                <div class="globel-border-top-color"></div>
                <form [formGroup]="promoterDetailsForm" id="proj_stakeholder_form">
                <p-table #dt1 [columns]="institutionPromoterColumn" [value]="institutionPromoter" dataKey="uniqueId"
                    editMode="row" styleClass="p-datatable-striped" [rows]="5" [paginator]="true"
                    [showJumpToPageDropdown]="true" [showPageLinks]="false" [pageLinks]="1" [responsive]="true"
                    rowExpandMode="single"
                    [globalFilterFields]="['surname', 'name', 'operatorTypeId', 'dob', 'age', 'genderName', 'maritalStatusName', 'mobileNumber','emailId', 'aadharNumber',  'startDate']">
                    <ng-template pTemplate="header">
                        <tr>
                            <th>{{'ERP.IS_POC' | translate}}</th>
                            <th>{{'ERP.SURNAME' | translate}}</th>
                            <th>{{'ERP.NAME' | translate}}</th>
                            <!-- <th>{{'ERP.TYPE_OF_OPERATOR' | translate}}</th> -->
                            <th>{{'ERP.AUTHORIZED_SIGNATORY' | translate}}</th>
                            <th>{{'ERP.DATE_OF_BIRTH' | translate}}</th>
                            <th>{{'ERP.AGE' | translate}}</th>
                            <!-- <th><span class="red">*</span>{{'ERP.GENDER' | translate}}</th>
                            <th><span class="red">*</span>{{'ERP.MARITAL_STATUS' | translate}}</th>
                            <th><span class="red">*</span>{{'ERP.MOBILE_NUMBER' | translate}}</th>
                            <th><span class="red">*</span>{{'ERP.EMAIL' | translate}}</th> -->
                            <th>{{'ERP.AADHAR_NUMBER' | translate}}</th>
                            <th>{{'ERP.START_DATE' | translate}}</th>
                            <th class="width-15em">{{'ERP.ACTION' | translate}}</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-row let-editing="editing" let-ri="rowIndex">
                        <tr [pEditableRow]="row">
                            <td>
                                {{row.isPoc}}
                            </td>
                            <td>
                                {{row.surname}}
                            </td>
                            <td>
                                {{row.name}}
                            </td>
                            <!-- <td>
                                {{row.operatorTypeName}}
                            </td> -->
                            <td>
                                {{row.authorizedSignatoryName}}
                                    
                            </td>
                            <td>
                                {{row.memDobVal}}
                            </td>
                            <td>
                                {{row.age}}
                            </td>
                            <!-- <td>
                                {{row.genderName}}
                            </td>
                            <td>
                                {{row.maritalStatusName}}
                            </td>
                            <td>
                                {{row.mobileNumber}}
                            </td>
                            <td>
                                {{row.emailId}}
                            </td> -->
                            <td>
                                {{row.aadharNumber}}
                            </td>
                            <td>
                                {{row.startDateVal}}
                            </td>
                            <td>
                                 <!-- [disabled]="!promoterDetailsForm.valid" -->
                                <div class="global-action-btn flex align-items-center justify-content-start">
                                    <p-button  label="{{'ERP.EDIT' | translate}}" id="prj_stakehlder_bt_edit" class="action-view" [disabled]="institutionPromoterPopUp" (click)="editInstitutionPromoter(row)"></p-button>
                                </div>
                
                        </td>
                        </tr>
                    </ng-template>
                </p-table>
            </form>
        </div>
        <!-- Instution Form end -->
    
</div>

<!-- group promoters details dialog -->
<p-dialog header="Group Promoter" [(visible)]="groupPromoters" styleClass="moredetails-style" [closable]="false">
    <div class="popup-basic-details">
        <form [formGroup]="promoterDetailsForm" id="proj_stakeholder_form">
                <div class="col-12 px-0">
                <div class="d-flex">
                    <div>
                        <p-inputSwitch [(ngModel)]="promoterDetailsModel.isExistingMember"
                            (onChange)="onChangeExistedPrmoter(promoterDetailsModel.isExistingMember , true)" formControlName="promterType"
                            [disabled]="promterTypeDisabled"></p-inputSwitch>
                    </div>
                    <div>
                        <p class="mt-1 px-2">{{'ERP.IS_EXISTED_PROMOTER' | translate}}</p>
                    </div>
                </div>
                <div class="row g-3 mt-n1">
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12" *ngIf="admissionNumberDropDown">
                    <div class="form-label">
                        <label><span class="red">*</span>{{'ERP.ADMISSION_NUMBER' | translate}}</label>
                        <p-dropdown [options]="admissionNumbersList" placeholder="Select"
                            formControlName="admissionNumber" [(ngModel)]="promoterDetailsModel.admissionNumber"
                            [appendTo]="'body'"
                            (onChange)="getMemberDetailsByAdmissionNUmber(promoterDetailsModel.admissionNumber)">
                        </p-dropdown>
                    </div>
                </div>\
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                    <div class="form-label">
                        <label><span class="red">*</span>{{'ERP.IS_POC' | translate}}</label>
                        <p-dropdown [filter]="true" [options]="requiredlist" placeholder="Select"
                            [(ngModel)]="promoterDetailsModel.isPoc"  formControlName="isPoc"
                            [appendTo]="'body'" (onChange)="isPosCheck(promoterDetailsModel.isPoc , true)"></p-dropdown>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                    <div class="form-label">
                        <label><span class="red">*</span>{{'ERP.NAME' | translate}}</label>
                        <input pInputText type="text" [(ngModel)]="promoterDetailsModel.name" formControlName="name" placeholder="Enter Name">
                        <p-message severity="error" text="Enter Valid Name"
                        *ngIf="!promoterDetailsForm.controls['name'].valid && promoterDetailsForm.controls['name'].dirty">
                    </p-message>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                    <div class="form-label">
                        <label><span class="red">*</span>{{'ERP.SURNAME' | translate}}</label>
                        <input pInputText type="text" [(ngModel)]="promoterDetailsModel.surname"
                            formControlName="surname" placeholder="Enter Surname">
                            <p-message severity="error" text="Enter Valid Sur Name"
                        *ngIf="!promoterDetailsForm.controls['surname'].valid && promoterDetailsForm.controls['surname'].dirty">
                    </p-message>
                    </div>
                </div>
               
                <!-- <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                    <div class="form-label">
                        <label><span class="red">*</span>{{'ERP.OPERATOR_DETAILS' | translate}}</label>
                        <p-dropdown [options]="operatorTypeList" placeholder="Select" formControlName="operatorTypeId"
                            [(ngModel)]="promoterDetailsModel.operatorTypeId" [appendTo]="'body'">
                        </p-dropdown>
                    </div>
                </div> -->
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                    <div class="form-label">
                        <label><span class="red">*</span>{{'ERP.DATE_OF_BIRTH' | translate}}</label>
                        <p-calendar formControlName="dob" [showIcon]="true" dateFormat="{{orgnizationSetting.calendar}}"
                            [(ngModel)]="promoterDetailsModel.memDobVal" placeholder="DD/MM/YYYY" [appendTo]="'body'"
                            (onSelect)="promoterageCaluculation(false , true)" [maxDate]="today">
                        </p-calendar>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                    <div class="form-label">
                        <label><span class="red">*</span>{{'ERP.AGE' | translate}}</label>
                        <input pInputText type="text" formControlName="age" [(ngModel)]="promoterDetailsModel.age"
                            minlength="1" maxlength="3" placeholder="Enter Age"  (keyup)="promoterageCaluculation(true , true)">
                            <p-message severity="error" text="Enter Valid Age"
                        *ngIf="!promoterDetailsForm.controls['age'].valid && promoterDetailsForm.controls['age'].dirty">
                    </p-message>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                    <div class="form-label">
                        <label><span class="red">*</span>{{'ERP.GENDER' | translate}}</label>
                        <p-dropdown [filter]="true" [options]="genderList" placeholder="Select"
                            formControlName="genderId" [(ngModel)]="promoterDetailsModel.genderId"
                            [appendTo]="'body'"></p-dropdown>
                    </div>
                </div>
               
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                    <div class="form-label">
                        <label><span class="red">*</span>{{'ERP.MARITAL_STATUS' | translate}}</label>
                        <p-dropdown [filter]="true" [options]="maritalStatusList" placeholder="Select"
                            [(ngModel)]="promoterDetailsModel.martialId" formControlName="martialId"
                            [appendTo]="'body'"></p-dropdown>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                    <div class="form-label">
                        <label><span class="red">*</span>{{'ERP.MOBILE_NUMBER' | translate}}</label>
                        <input pInputText type="text" [(ngModel)]="promoterDetailsModel.mobileNumber" minlength="10"
                            maxlength="10" formControlName="mobileNumber" placeholder="Enter Mobile Number">
                            <p-message severity="error" text="Enter Valid Mobile Number"
                        *ngIf="!promoterDetailsForm.controls['mobileNumber'].valid && promoterDetailsForm.controls['mobileNumber'].dirty">
                    </p-message>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                    <div class="form-label">
                        <label><span class="red">*</span>{{'ERP.EMAIL' | translate}}</label>
                        <input pInputText type="text" [(ngModel)]="promoterDetailsModel.emailId"
                            formControlName="emailId" placeholder="Enter Email">
                            <p-message severity="error" text="Enter Valid Email. Id"
                            *ngIf="!promoterDetailsForm.controls['emailId'].valid && promoterDetailsForm.controls['emailId'].dirty">
                        </p-message>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                    <div class="form-label">
                        <label><span class="red">*</span>{{'ERP.AUTHORIZED_SIGNATORY' | translate}}</label>
                        <p-dropdown [filter]="true" [options]="requiredlist" placeholder="Select"
                            [(ngModel)]="promoterDetailsModel.authorizedSignatory"  formControlName="authorizedSignatory"
                            [appendTo]="'body'"></p-dropdown>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                    <div class="form-label">
                        <label><span class="red">*</span>{{'ERP.AADHAR_NUMBER' | translate}}</label>
                        <input pInputText type="text" [(ngModel)]="promoterDetailsModel.aadharNumber" minlength="12"
                            maxlength="12" formControlName="aadharNumber" placeholder="Enter Aadhar Number">
                            <p-message severity="error" text="Enter Valid Aadhar Number"
                            *ngIf="!promoterDetailsForm.controls['aadharNumber'].valid && promoterDetailsForm.controls['aadharNumber'].dirty">
                        </p-message>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                    <div class="form-label">
                        <label><span class="red">*</span>{{'ERP.START_DATE' | translate}}</label>
                        <p-calendar formControlName="startDate" [showIcon]="true" placeholder="DD/MM/YYYY"
                            dateFormat="{{orgnizationSetting.calendar}}" [(ngModel)]="promoterDetailsModel.startDateVal"
                            [appendTo]="'body'">
                        </p-calendar>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                    <div class="form-label">
                        <div class="ml-2"><span class="red">*</span>{{'ERP.UPLOAD_IMAGE' | translate}}</div>
                        <div class="uplodad-style align-items-center">
                            <p-fileUpload #fileUpload class="qua-upld file-attach semi-bold" name="myfile[]"
                                id="apply-leave_fileUp_attach" chooseLabel=" " name="file" formControlName="photoUpload" accept=".png,.jpg,.jpeg" (onRemove)="fileRemoeEvent('promoterPhot')" 
                                (onSelect)="fileUploaderForPromoters($event,fileUpload ,'groupPromoterImage')">
                            </p-fileUpload>
                            <div class="col-12  d-flex p-1 contant-body"
                                *ngFor="let img of promoterDetailsModel.multipartFileListForPhotoCopyPath">
                                <span *ngIf="img.fileType=='jpg' || img.fileType=='jpeg' || img.fileType=='png'">
                                    <a href="{{img.imageValue}}"> <img src="{{img.imageValue}}" width="22" height="22"></a>
                                </span>
                                <span class="docname-texteclipse ml-3" pTooltip="{{img.fileName}}" tooltipPosition="bottom">
                                    {{img.fileName}}</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                    <div class="form-label">
                        <div class="ml-2"><span class="red">*</span>{{'ERP.UPLOAD_SIGNATURE' | translate}}</div>
                        <div class="uplodad-style align-items-center">
                            <p-fileUpload #fileUpload class="qua-upld file-attach semi-bold" name="myfile[]"
                                id="apply-leave_fileUp_attach" chooseLabel=" " formControlName="signatureUpload" name="file" accept=".png,.jpg,.jpeg" (onRemove)="fileRemoeEvent('promoterSignature' )" 
                                (onSelect)="fileUploaderForPromoters($event,fileUpload ,'groupPromoterSignature')" > 
                            </p-fileUpload>
                            <div class="col-12  d-flex p-1 contant-body"
                                *ngFor="let img of promoterDetailsModel.multipartFileListForSignatureCopyPath">
                                <span *ngIf="img.fileType=='jpg' || img.fileType=='jpeg' || img.fileType=='png'">
                                    <a href="{{img.imageValue}}"> <img src="{{img.imageValue}}" width="22" height="22"></a>
                                </span>
                                <span class="docname-texteclipse ml-3" pTooltip="{{img.fileName}}" tooltipPosition="bottom">
                                    {{img.fileName}}</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12 pt-4">
                    <div class="form-label">
                            <!-- <p-checkbox  [binary]="true" formControlName="isGroupLeader"
                            [(ngModel)]="promoterDetailsModel.isGroupLeader"
                            inputId="binary" (onChange)="onGroupLeaderSelect(true)"></p-checkbox> -->
                            <span class="mt-2" for="username">&nbsp;&nbsp;{{'ERP.IS_GROUP_LEADER' | translate}}</span>
                            <p-dropdown [filter]="true" [options]="requiredlist" placeholder="Select"
                            [(ngModel)]="promoterDetailsModel.isGroupLeader" formControlName="isGroupLeader"
                            [appendTo]="'body'"
                            (onChange)="onGroupLeaderSelect(true,promoterDetailsModel.isGroupLeader)"></p-dropdown>
                    </div>
                </div>

                <div class="col-12 btn-footer px-0">
                    <div class="col-12 d-flex justify-content-end px-0 mt-1 group-button-bottom">
                        <p-button label="{{'ERP.SAVE'|translate }}" [disabled]="!promoterDetailsForm.valid || !(isFileUploadedPromoterPhoto && isFileUploadedPromoterSignature)" (click)="savePromoterDetails(promoterDetailsModel)"></p-button>
                        <p-button label="{{'ERP.CANCEL'|translate }}" (click)="cancelPromoter(cancleButtonFlag)"></p-button>                      
                    </div>
                    </div>
            </div>
        </div>
        </form>
    </div>

</p-dialog>

<!-- institution promoters details dialog -->
<p-dialog header="Institution Promoter" [(visible)]="institutionPromoterPopUp" styleClass="moredetails-style" [closable]="false">
    <div class="popup-basic-details">
        <form [formGroup]="promoterDetailsForm" id="proj_stakeholder_form">
            <div class="col-12 px-0">
                <div class="d-flex">
                    <div>
                        <p-inputSwitch [(ngModel)]="institutionPromoterDetailsModel.isExistingMember"
                            (onChange)="onChangeExistedPrmoter(institutionPromoterDetailsModel.isExistingMember , true)" formControlName="promterType"
                            [disabled]="promterTypeDisabled"></p-inputSwitch>
                    </div>
                    <div>
                        <p class="mt-1 px-2">{{'ERP.IS_EXISTED_PROMOTER' | translate}}</p>
                    </div>
                </div>
                <div class="row g-3 mt-n1">
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12" *ngIf="admissionNumberDropDown">
                    <div class="form-label">
                        <label><span class="red">*</span>{{'ERP.ADMISSION_NUMBER' | translate}}</label>
                        <p-dropdown [options]="admissionNumbersList" placeholder="Select"
                            formControlName="admissionNumber" [(ngModel)]="institutionPromoterDetailsModel.admissionNumber"
                            [appendTo]="'body'"
                            (onChange)="getMemberDetailsByAdmissionNUmber(institutionPromoterDetailsModel.admissionNumber)">
                        </p-dropdown>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                    <div class="form-label">
                        <label><span class="red">*</span>{{'ERP.IS_POC' | translate}}</label>
                        <p-dropdown [filter]="true" [options]="requiredlist" placeholder="Select"
                            [(ngModel)]="institutionPromoterDetailsModel.isPoc"  formControlName="isPoc"
                            [appendTo]="'body'" (onChange)="isPosCheck(institutionPromoterDetailsModel.isPoc , true)"></p-dropdown>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                    <div class="form-label">
                        <label><span class="red">*</span>{{'ERP.NAME' | translate}}</label>
                        <input pInputText type="text" [(ngModel)]="institutionPromoterDetailsModel.name" formControlName="name" placeholder="Enter Name">
                        <p-message severity="error" text="Enter Valid Name"
                            *ngIf="!promoterDetailsForm.controls['name'].valid && promoterDetailsForm.controls['name'].dirty">
                        </p-message>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                    <div class="form-label">
                        <label><span class="red">*</span>{{'ERP.SURNAME' | translate}}</label>
                        <input pInputText type="text" [(ngModel)]="institutionPromoterDetailsModel.surname"
                            formControlName="surname" placeholder="Enter Surname">
                            <p-message severity="error" text="Enter Valid Sur Name"
                            *ngIf="!promoterDetailsForm.controls['surname'].valid && promoterDetailsForm.controls['surname'].dirty">
                        </p-message>
                    </div>
                </div>
                
                <!-- <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                    <div class="form-label">
                        <label><span class="red">*</span>{{'ERP.OPERATOR_DETAILS' | translate}}</label>
                        <p-dropdown [options]="operatorTypeList" placeholder="Select" formControlName="operatorTypeId"
                            [(ngModel)]="institutionPromoterDetailsModel.operatorTypeId" [appendTo]="'body'">
                        </p-dropdown>
                    </div>
                </div> -->
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                    <div class="form-label">
                        <label><span class="red">*</span>{{'ERP.DATE_OF_BIRTH' | translate}}</label>
                        <p-calendar formControlName="dob" [showIcon]="true" dateFormat="{{orgnizationSetting.calendar}}"
                            [(ngModel)]="institutionPromoterDetailsModel.memDobVal" placeholder="DD/MM/YYYY" [appendTo]="'body'"
                            (onSelect)="promoterageCaluculation(false , true)">
                        </p-calendar>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                    <div class="form-label">
                        <label><span class="red">*</span>{{'ERP.AGE' | translate}}</label>
                        <input pInputText type="text" formControlName="age" [(ngModel)]="institutionPromoterDetailsModel.age"
                            minlength="1" maxlength="3" placeholder="Enter Age" (keyup)="promoterageCaluculation(true , false)">
                            <p-message severity="error" text="Enter Valid Age"
                            *ngIf="!promoterDetailsForm.controls['age'].valid && promoterDetailsForm.controls['age'].dirty">
                        </p-message>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                    <div class="form-label">
                        <label><span class="red">*</span>{{'ERP.GENDER' | translate}}</label>
                        <p-dropdown [filter]="true" [options]="genderList" placeholder="Select"
                            formControlName="genderId" [(ngModel)]="institutionPromoterDetailsModel.genderId"
                            [appendTo]="'body'"></p-dropdown>
                    </div>
                </div>
               
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                    <div class="form-label">
                        <label><span class="red">*</span>{{'ERP.MARITAL_STATUS' | translate}}</label>
                        <p-dropdown [filter]="true" [options]="maritalStatusList" placeholder="Select"
                            [(ngModel)]="institutionPromoterDetailsModel.martialId" formControlName="martialId"
                            [appendTo]="'body'"></p-dropdown>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                    <div class="form-label">
                        <label><span class="red">*</span>{{'ERP.MOBILE_NUMBER' | translate}}</label>
                        <input pInputText type="text" [(ngModel)]="institutionPromoterDetailsModel.mobileNumber" minlength="10"
                            maxlength="10" formControlName="mobileNumber" placeholder="Enter Mobile Number">
                            <p-message severity="error" text="Enter Valid Mobile Number"
                            *ngIf="!promoterDetailsForm.controls['mobileNumber'].valid && promoterDetailsForm.controls['mobileNumber'].dirty">
                        </p-message>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                    <div class="form-label">
                        <label><span class="red">*</span>{{'ERP.EMAIL' | translate}}</label>
                        <input pInputText type="text" [(ngModel)]="institutionPromoterDetailsModel.emailId"
                            formControlName="emailId" placeholder="Enter Email">
                            <p-message severity="error" text="Enter Valid Email Id"
                            *ngIf="!promoterDetailsForm.controls['emailId'].valid && promoterDetailsForm.controls['emailId'].dirty">
                        </p-message>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                    <div class="form-label">
                        <label><span class="red">*</span>{{'ERP.AADHAR_NUMBER' | translate}}</label>
                        <input pInputText type="text" [(ngModel)]="institutionPromoterDetailsModel.aadharNumber" minlength="12"
                            maxlength="12" formControlName="aadharNumber" placeholder="Enter Aadhar Number">
                            <p-message severity="error" text="Enter Valid Aadhar Number"
                            *ngIf="!promoterDetailsForm.controls['aadharNumber'].valid && promoterDetailsForm.controls['aadharNumber'].dirty">
                        </p-message>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                    <div class="form-label">
                        <label><span class="red">*</span>{{'ERP.START_DATE' | translate}}</label>
                        <p-calendar formControlName="startDate" [showIcon]="true" placeholder="DD/MM/YYYY"
                            dateFormat="{{orgnizationSetting.calendar}}" [(ngModel)]="institutionPromoterDetailsModel.startDateVal"
                            [appendTo]="'body'">
                        </p-calendar>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                    <div class="form-label">
                        <label><span class="red">*</span>{{'ERP.AUTHORIZED_SIGNATORY' | translate}}</label>
                        <p-dropdown [filter]="true" [options]="requiredlist" placeholder="Select"
                            [(ngModel)]="promoterDetailsModel.authorizedSignatory"  formControlName="authorizedSignatory"
                            [appendTo]="'body'"></p-dropdown>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                    <div class="form-label">
                        <div class="ml-2"><span class="red">*</span>{{'ERP.UPLOAD_IMAGE' | translate}}</div>
                        <div class="uplodad-style align-items-center">
                            <p-fileUpload #fileUpload class="qua-upld file-attach semi-bold" name="myfile[]"
                                id="apply-leave_fileUp_attach" chooseLabel=" " name="file" accept=".png,.jpg,.jpeg" (onRemove)="fileRemoeEvent('promoterPhot')"
                                (onSelect)="fileUploaderForInstitutionPromoters($event,fileUpload ,'institutionPromoterImage')">
                            </p-fileUpload>
                            <div class="col-12  d-flex p-1 contant-body"
                                *ngFor="let img of institutionPromoterDetailsModel.multipartFileListForPhotoCopyPath">
                                <span *ngIf="img.fileType=='jpg' || img.fileType=='jpeg' || img.fileType=='png'">
                                    <a href="{{img.imageValue}}"> <img src="{{img.imageValue}}" width="22" height="22"></a>
                                </span>
                                <span class="docname-texteclipse ml-3" pTooltip="{{img.fileName}}" tooltipPosition="bottom">
                                    {{img.fileName}}</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                    <div class="form-label">
                        <div class="ml-2"><span class="red">*</span>{{'ERP.UPLOAD_SIGNATURE' | translate}}</div>
                        <div class="uplodad-style align-items-center">
                            <p-fileUpload #fileUpload class="qua-upld file-attach semi-bold" name="myfile[]"
                                id="apply-leave_fileUp_attach" chooseLabel=" " name="file" accept=".png,.jpg,.jpeg" (onRemove)="fileRemoeEvent('promoterSignature')"
                                (onSelect)="fileUploaderForInstitutionPromoters($event,fileUpload ,'insitutionPromoterSignature')" > 
                            </p-fileUpload>
                            <div class="col-12  d-flex p-1 contant-body"
                                *ngFor="let img of institutionPromoterDetailsModel.multipartFileListForSignatureCopyPath">
                                <span *ngIf="img.fileType=='jpg' || img.fileType=='jpeg' || img.fileType=='png'">
                                    <a href="{{img.imageValue}}"> <img src="{{img.imageValue}}" width="22" height="22"></a>
                                </span>
                                <span class="docname-texteclipse ml-3" pTooltip="{{img.fileName}}" tooltipPosition="bottom">
                                    {{img.fileName}}</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12 pt-4">
                    <div class="form-label">
                            <!-- <p-checkbox  [binary]="true" formControlName="isGroupLeader"
                            [(ngModel)]="promoterDetailsModel.isGroupLeader"
                            inputId="binary" (onChange)="onGroupLeaderSelect(true)"></p-checkbox>
                            <span class="mt-2" for="username">&nbsp;&nbsp;{{'ERP.IS_GROUP_LEADER' | translate}}</span> -->
                            <span class="mt-2" for="username">&nbsp;&nbsp;{{'ERP.IS_GROUP_LEADER' | translate}}</span>
                            <p-dropdown [filter]="true" [options]="requiredlist" placeholder="Select"
                            [(ngModel)]="promoterDetailsModel.isGroupLeader" formControlName="isGroupLeader"
                            [appendTo]="'body'"
                            (onChange)="onGroupLeaderSelect(true,promoterDetailsModel.isGroupLeader)"></p-dropdown>
                    </div>
                </div>

                <div class="col-12 btn-footer px-0">
                    <div class="col-12 d-flex justify-content-end px-0 mt-1 group-button-bottom">
                        <p-button label="{{'ERP.SAVE'|translate }}" [disabled]="!promoterDetailsForm.valid || !(isFileUploadedPromoterPhoto && isFileUploadedPromoterSignature)" (click)="saveInstitutionPromoterDetails(institutionPromoterDetailsModel)"></p-button>
                        <p-button label="{{'ERP.CANCEL'|translate }}" (click)="cancelInstitutionPromoter(cancleButtonFlag)"></p-button>                      
                    </div>
                    </div>
            </div>
        </div>
        </form>
    </div>
</p-dialog>